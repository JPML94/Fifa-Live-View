{"remainingRequest":"C:\\Users\\jp\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jp\\Dropbox\\dev\\apps\\fifa-app\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\jp\\Dropbox\\dev\\apps\\fifa-app\\App.vue","mtime":1530518068739},{"path":"C:\\Users\\jp\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\jp\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1530510518916},{"path":"C:\\Users\\jp\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst API = 'https://api.fifa.com/api/v1/live/football/17/254645/275093/300331535?language=en-GB'\r\nimport Team from './Team.vue';\r\nimport goal_sound from './goal.mp3';\r\n\r\nexport default {\r\n  components: {\r\n    Team\r\n  },\r\n  data: () => ({\r\n    last_retrieved: new Date(),\r\n    results: {},\r\n    home_team: {},\r\n    away_team: {},\r\n    players: {},\r\n    first: true,\r\n  }),\r\n  mounted() {\r\n    this.getScores();\r\n  },\r\n  methods: {\r\n    getScores() {\r\n      fetch(API)\r\n      .then(res => res.json())\r\n      .then(results => {\r\n\r\n        if(!this.first && results.HomeTeam.Score != this.home_team.Score\r\n          || results.AwayTeam.Score != this.away_team.Score\r\n          || results.HomeTeamPenaltyScore != this.HomeTeamPenaltyScore\r\n          || results.AwayTeamPenaltyScore != this.AwayTeamPenaltyScore) {\r\n          const audio = new Audio(goal_sound);\r\n          audio.volume = 0.2;\r\n        }\r\n        console.log(results)\r\n        this.last_retrieved = new Date();\r\n        this.results = results;\r\n        this.home_team = results.HomeTeam;\r\n        this.away_team = results.AwayTeam;\r\n        this.first = false;\r\n        setTimeout(() => {\r\n          this.getScores()\r\n        }, 5000)\r\n      });\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":".","sourcesContent":["<template>\r\n<section>\r\n  <section class=\"scores\">\r\n  <h1 class=\"header\">\r\n    {{results.MatchTime}}\r\n    <br />\r\n    <small class=\"time\">{{last_retrieved.toTimeString()}}</small>\r\n  </h1>\r\n  <section>\r\n    <Team :team=\"home_team\" :penalty_score=\"results.HomeTeamPenaltyScore\"></Team>\r\n    <Team :team=\"away_team\" :penalty_score=\"results.AwayTeamPenaltyScore\"></Team>\r\n  </section>\r\n</section>\r\n  <h1 class=\"round-name\" v-if=\"results.StageName\">{{ results.StageName[0].Description }}</h1>\r\n</section>\r\n</template> \r\n\r\n<script>\r\nconst API = 'https://api.fifa.com/api/v1/live/football/17/254645/275093/300331535?language=en-GB'\r\nimport Team from './Team.vue';\r\nimport goal_sound from './goal.mp3';\r\n\r\nexport default {\r\n  components: {\r\n    Team\r\n  },\r\n  data: () => ({\r\n    last_retrieved: new Date(),\r\n    results: {},\r\n    home_team: {},\r\n    away_team: {},\r\n    players: {},\r\n    first: true,\r\n  }),\r\n  mounted() {\r\n    this.getScores();\r\n  },\r\n  methods: {\r\n    getScores() {\r\n      fetch(API)\r\n      .then(res => res.json())\r\n      .then(results => {\r\n\r\n        if(!this.first && results.HomeTeam.Score != this.home_team.Score\r\n          || results.AwayTeam.Score != this.away_team.Score\r\n          || results.HomeTeamPenaltyScore != this.HomeTeamPenaltyScore\r\n          || results.AwayTeamPenaltyScore != this.AwayTeamPenaltyScore) {\r\n          const audio = new Audio(goal_sound);\r\n          audio.volume = 0.2;\r\n        }\r\n        console.log(results)\r\n        this.last_retrieved = new Date();\r\n        this.results = results;\r\n        this.home_team = results.HomeTeam;\r\n        this.away_team = results.AwayTeam;\r\n        this.first = false;\r\n        setTimeout(() => {\r\n          this.getScores()\r\n        }, 5000)\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  text-align: center;\r\n  font-family: sans-serif;\r\n  font-size: 3em;\r\n}\r\n\r\n.header {\r\n  padding: 0;\r\n}\r\n\r\n.round-name {\r\n  font-size: 1em;\r\n  margin: 0;\r\n}\r\n\r\n.scores {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n\r\n.time {\r\n  font-size: 0.3em;\r\n}\r\n\r\n</style>\r\n"]}]}